{% extends "portal/layout.html" %}
{% load static %}


{% block body %}

<!-- Dashboard -->
<div class="d-flex flex-column flex-lg-row h-lg-full bg-surface-secondary" id="top-local">
    <!-- Vertical Navbar -->
    <nav class="navbar show navbar-vertical h-lg-screen navbar-expand-lg px-0 py-3 navbar-light bg-black border-bottom border-bottom-lg-0 border-end-lg"
        id="navbarVertical">
        <div class="container-fluid">
            <!-- Toggler -->
            <button class="navbar-toggler ms-n2" type="button" data-bs-toggle="collapse"
                data-bs-target="#sidebarCollapse" aria-controls="sidebarCollapse" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Brand -->
            <a class="navbar-brand py-lg-2 mb-lg-5 px-lg-6 me-0" href="#">
                <img class="h-md-32" src="{% static 'portal/img/bvpieee_logo_white.png' %}" alt="bvpieee">
            </a>

            <!-- Collapse -->
            <div class="collapse navbar-collapse" id="sidebarCollapse">
                <!-- Navigation -->
                <ul class="navbar-nav">
                    <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item" href="/judge-dashboard">
                            <i class="bi bi-house text-white"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item" href="/discord">
                            <i class="bi bi-discord text-white"></i> Discord
                        </a>
                    </li>
                </ul>
                <!-- Divider -->
                <hr class="navbar-divider my-5 opacity-20">

                <!-- Push content down -->
                <div class="mt-auto"></div>
                <!-- User (md) -->
                <ul class="navbar-nav">
                    <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item" href="">
                            <i class="bi bi bi-people text-white"></i> USER: {{user.username}}
                        </a>
                    </li>
                    <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item" href="{% url 'logout' %}">
                            <i class="bi bi-box-arrow-left text-white"></i> Logout
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Main content -->
    <div class="h-screen flex-grow-1 overflow-y-lg-auto gradient-main-local">
        <div class="container-fluid px-20 py-20">
            <div class="row align-items-left">
                <div class="col ">
                    <img class="h-md-24" src="{% static 'portal/img/wiehacklogo4.png' %}" alt="...">
                </div>
                <div class="col-10">
                    <div class="mt-0 text-black ms-n12 font-semibold">
                        <h1 class="h2 ps-0 font-bolder" style="font-family: 'Zaptron', sans-serif !important;"> WIEHACK 4.0 </h1>
                        36 hours international women centric <br />
                        hybrid (in-person + virtual) hackathon!
                    </div>
                </div>
            </div>

        </div>
        <!-- Main -->
        <div class="container-fluid">
            <div class="card shadow border-0 mb-7 px-4">
                <div class="card-header">
                    <h3 class="h2 mb-0 font-semibold">Generate Credentials </h3>
                </div>
                <div class="px-6 pb-5">
                    <!-- Submission Form -->
                    <form action="{% url 'admin_index' %}" method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="mt-4">
                            <span class="d-block mt-2 text-sm text-muted">
                                Generates UserID and password for portal authentication from the data received from Unstop.
                            </span>
                        </div>
                        {% if message %}
                        <div class="mb-4 font-semibold">{{ message }}</div>
                        {% endif %}
                        <input type="text" class="form-control" name="request_type" hidden value="generate_credentials" required>
                        <div class="mt-6 mb-6">
                            <input class="btn btn-primary w-full bg-cyan-600" id="form-submit" type="submit" value="Generate" />
                        </div>
                    </form>
                </div>            
            </div>

            <div class="card shadow border-0 mb-7 px-4">
                <div class="card-header">
                    <h3 class="h2 mb-0 font-semibold"> Update selected teams </h3>
                </div>
                <div class="px-6 pb-5">
                    <!-- Submission Form -->
                    <form action="{% url 'admin_index' %}" method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="mt-4">
                            <span class="d-block mt-2 text-sm text-muted">
                                Updates the selected teams access of the portal for Round 2. <br/>
                                These teams will be able to access the portal and submit their projects.
                            </span>
                        </div>
                        {% if message %}
                        <div class="mb-4 font-semibold">{{ message }}</div>
                        {% endif %}
                        <input type="text" class="form-control" name="request_type" hidden value="update_round2" required>
                        <div class="mt-6 mb-6">
                            <input class="btn btn-primary w-full bg-cyan-600" id="form-submit" type="submit" value="Round 2: Update Access" />
                        </div>
                    </form>
                    <form action="{% url 'admin_index' %}" method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="mt-4">
                            <span class="d-block mt-2 text-sm text-muted">
                                Updates the selected teams access of the portal for Round 3. <br/>
                                These teams will be able to access the portal and submit their projects.
                            </span>
                        </div>
                        {% if message %}
                        <div class="mb-4 font-semibold">{{ message }}</div>
                        {% endif %}
                        <input type="text" class="form-control" name="request_type" hidden value="update_round3" required>
                        <div class="mt-6 mb-6">
                            <input class="btn btn-primary w-full bg-cyan-600" id="form-submit" type="submit" value="Round 3: Update Access" />
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="container-local mt-24 px-12" id="top-local-mobile" style="display: none;">
    <a class="d-block" href="#">
        <img src="{% static 'portal/img/bvpieee_logo_white.png' %}" class="h-24" alt="bvpieee">
        <img src="{% static 'portal/img/wiehacklogo4.png' %}" class="h-24 px-12" alt="wiehack">
    </a>
    <h5 class="h2 my-10 text-white font-bolder" style="font-family: 'Zaptron', sans-serif !important;"> WIEHACK 4.0 </h5>
    <h3 id="headline-local-mobile" class="text-white">
        Please login using a laptop/desktop
    </h3>
</div>

{% endblock %}
