{% extends "portal/layout.html" %}
{% load static %}


{% block body %}

<!-- Dashboard -->
<div class="d-flex flex-column flex-lg-row h-lg-full bg-surface-secondary">
    <!-- Vertical Navbar -->
    <nav class="navbar show navbar-vertical h-lg-screen navbar-expand-lg px-0 py-3 navbar-light bg-black border-bottom border-bottom-lg-0 border-end-lg"
        id="navbarVertical">
        <div class="container-fluid">
            <!-- Toggler -->
            <button class="navbar-toggler ms-n2" type="button" data-bs-toggle="collapse"
                data-bs-target="#sidebarCollapse" aria-controls="sidebarCollapse" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Brand -->
            <a class="navbar-brand py-lg-2 mb-lg-5 px-lg-6 me-0" href="#">
                <img class="h-md-32" src="{% static 'portal/img/bvpieee_logo_white.png' %}" alt="bvpieee">
            </a>
            <!-- User menu (mobile) -->
            <div class="navbar-user d-lg-none">
                <!-- Dropdown -->
                <div class="dropdown">
                    <!-- Toggle -->
                    <a href="#" id="sidebarAvatar" role="button" data-bs-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">
                        <div class="avatar-parent-child">
                            <img alt="Image Placeholder"
                                src="https://images.unsplash.com/photo-1548142813-c348350df52b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=3&w=256&h=256&q=80"
                                class="avatar avatar- rounded-circle">
                            <span class="avatar-child avatar-badge bg-success"></span>
                        </div>
                    </a>
                </div>
            </div>
            <!-- Collapse -->
            <div class="collapse navbar-collapse" id="sidebarCollapse">
                <!-- Navigation -->
                <ul class="navbar-nav">
                    <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item" href="/">
                            <i class="bi bi-house text-white"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item" href="/submission">
                            <i class="bi bi-bar-chart text-white"></i> Submission
                        </a>
                    </li>
                    <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item" href="/discord">
                            <i class="bi bi bi-discord text-white"></i> Discord
                        </a>
                    </li>
                    <!-- <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item nav-local-item" href="/my-team">
                            <i class="bi bi-people text-white"></i> My Team
                        </a>
                    </li> -->
                </ul>
                <!-- Divider -->
                <hr class="navbar-divider my-5 opacity-20">

                <!-- Push content down -->
                <div class="mt-auto"></div>
                <!-- User (md) -->
                <ul class="navbar-nav">
                    <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item" href="/team-profile">
                            <i class="bi bi bi-people text-white"></i> TEAM: {{user.username}}
                        </a>
                    </li>
                    <li class="nav-item nav-local-item">
                        <a class="nav-link text-white nav-local-item" href="{% url 'logout' %}">
                            <i class="bi bi-box-arrow-left text-white"></i> Logout
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Main content -->
    <div class="h-screen flex-grow-1 overflow-y-lg-auto gradient-bottom-right start-cyan-200 end-red-200">
        <div class="container-fluid px-20 py-20">
            <div class="row align-items-left">
                <div class="col ">
                    <img class="h-md-24" src="{% static 'portal/img/wiehacklogo3.png' %}" alt="...">
                </div>
                <div class="col-10">
                    <div class="mt-0 text-black ms-n12 font-semibold">
                        <h1 class="h2 ps-0"> WIE HACK 4.0 </h1>
                        36 hours international women centric <br />
                        hybrid (in-person + virtual) hackathon!
                    </div>
                </div>
            </div>

        </div>
        <!-- Main -->
        <div class="container-fluid">
            {% if round %}
            <div class="px-18 pe-40">
                <h1 class="h2 mb-5" >Round- {{round.round_number}} : Submission form</h1>
                
                {% if submission_form %}
                    <p> We have receieved your response. <br/>
                        Take some rest, till this round ends.
                    </p>
                {% else %}
                    <!-- Submission Form -->
                    <form action="{% url 'submission' %}" method="POST" enctype="multipart/form-data" onsubmit="formSubmit()">
                        {% csrf_token %}
                        <div class="mt-4">
                            <label class="form-label" for="formInputExample"> Team ID </label>
                            <input type="text" class="form-control" name="teamID" readonly value="{{user.username}}" required> 
                        </div>
                        {% if form.github %}
                        <div class="mt-4">
                            <label class="form-label" for="formInputExample"> GitHub </label>
                            <input type="url" class="form-control" name="github" placeholder="GitHub repo link" required>
                            <span class="d-block mt-2 text-sm text-muted">Make sure that your GitHub repository is public.</span>
                        </div>
                        {% endif %}
                        {% if form.youtube %}
                        <div class="mt-4">
                            <label class="form-label" for="formInputExample"> YouTube </label>
                            <input type="url" class="form-control" name="youtube" placeholder="YouTube video link">
                            <span class="d-block mt-2 text-sm text-muted">Make sure that your YouTube video is Public/Unlisted.</span>
                        </div>
                        {% endif %}
                        {% if form.file %}
                        <div class="mt-4">
                            <label class="form-label" for="input_file">Presentation</label>
                            <input type="file" class="form-control" name="input_file" placeholder="Your presentation" required>
                            <span class="d-block mt-2 text-sm text-muted">Accepted format: .pptx</span>
                        </div>
                        {% endif %}
                        {% if message %}
                        <div class="mb-4 font-semibold">{{ message }}</div>
                        {% endif %}
                        <div class="mt-4 mb-12">
                            <input class="btn btn-primary w-full bg-cyan-600" id="form-submit" type="submit" value="Submit" />
                        </div>
                    </form>
                {% endif %}
            </div>
            {% else %}
            <div class="px-18 pe-40 ">
                Round {{last_open_round.round_number}} submissions closed. <br/>
                {% if submission_form %}
                    We have receieved your submission <br/>
                {% else %}
                    NOTE: We have <strong>NOT</strong> receieved your submission. <br/>
                {% endif %}
                    Hang tight, while we declare the results of this round.
            </div>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}


{% block script %}
    <script src="{% static 'portal/js/script.js' %}"></script>
{% endblock %}